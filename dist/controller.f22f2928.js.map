{"version":3,"sources":["js/views/calculatorsView.js","js/helpers.js","js/models/dataModel.js","js/models/calculatorsModel.js","js/views/tableMonthlyView.js","js/views/tableProfitableView.js","js/views/chartOverallView.js","js/models/tableMonthlyModel.js","js/models/tableProfitableModel.js","../node_modules/d3-path/src/path.js","../node_modules/d3-path/src/index.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/curve/radial.js","../node_modules/d3-shape/src/lineRadial.js","../node_modules/d3-shape/src/areaRadial.js","../node_modules/d3-shape/src/pointRadial.js","../node_modules/d3-shape/src/link/index.js","../node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-shape/src/symbol/cross.js","../node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-shape/src/symbol/square.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-shape/src/symbol.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-shape/src/curve/bump.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-shape/src/offset/diverging.js","../node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-shape/src/order/appearance.js","../node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-shape/src/order/descending.js","../node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-shape/src/order/reverse.js","../node_modules/d3-shape/src/index.js","js/views/chartPerformanceView.js","js/models/chartPerformanceModel.js","js/views/chartWorstBestView.js","js/controller.js","../../../Users/Patryk/AppData/Roaming/npm/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["calculatorEls","getElements","obj","calcPosition","document","querySelector","positionEntryPrice","positionRiskPercentage","positionStopPrice","positionResult","calcRatio","ratioEntryPrice","ratioExitPrice","ratioStopPrice","ratioResult","calcCapital","capitalSign","capitalSignBtn","capitalInput","capitalUpdateBtn","capitalMessage","queryCalcEls","checkFieldsForData","el1","el2","el3","value","addCalcCapitalHandler","handler","addEventListener","e","amount","isNaN","getAttribute","target","previousElementSibling","innerHTML","setAttribute","console","log","addCalcPositionHandler","forEach","input","key","isFinite","formattedData","addCalcRatioHandler","renderCapitalMessage","arr","spanEls","querySelectorAll","textContent","classList","add","setTimeout","remove","renderCalcResult","result","el","clearCalcResult","stringifyNum","number","toString","replace","makeAbsolute","num","Math","abs","reduceData","reduce","acc","crunchData","Array","isArray","length","singleNumber","toFixed","filterNonStrings","filtered","filter","item","map","kFormatter","decimal","sign","user","capital","overall","total","long","short","streaks","wins","trades","ID","ticker","date","profit","losses","loss","current","worstTrades","bestTrades","tickers","AAL","profitable","shares","winPercentage","AAPL","monthlyData","calendarData","jul21","side","resultPercentage","jun21","may21","journal","entries","exits","body","passData","field","passNestedData","field2","updateCapital","action","updateMonthlyData","Object","keys","updateProfitableData","items","newLeader","oldLeader","getTicker","calcPositionResult","accountCapital","dataArr","entry","risk","stop","moneyRisk","stopDistance","round","calcRatioResult","exit","sort","a","b","indexOf","exitDistance","monthlyEls","monthlyTable","monthlyTableHead","queryMonthlyEls","renderMonthlyTable","data","reverse","html","month","monthlyReturn","totalTrades","avgReturn","avgWinPercent","avgLossPercent","battingAvg","winLossRatio","insertAdjacentHTML","profitableEls","profitableTable","profitableTableHead","queryProfitableEls","renderProfitableTable","tableData","totalProfit","battingAvgPercent","overallEls","pieStreakCard","winStreakDate","winStreakTotal","winStreakProfit","lossStreakDate","lossStreakTotal","lossStreakProfit","queryOverallEls","renderStreaks","trade","createPlaceholderObj","profitableNumber","calcBattingAvg","calcWinLossRatio","computeMonthlyData","rawData","formattedMonths","currentMonth","tableUnit","currentSide","push","convertToLeader","formattedLeader","totalShares","tradeResults","winPercentTrades","percent","checkAgainstLeaders","leaders","newLeadersArr","leaderSmallestAvg","leaderTickers","leaderAvgReturn","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","prototype","constructor","moveTo","x","y","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","Error","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","constant","atan2","max","min","halfPi","asin","arcInnerRadius","d","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","t","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","buffer","r0","apply","arguments","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","slice","from","Linear","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","point","p","defined","curve","curveLinear","output","undefined","pointX","pointY","line","i","n","defined0","area","j","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","identity","sortValues","descending","pie","sum","index","arcs","pa","v","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","c","angle","radius","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","source","linkTarget","link","argv","call","s","curveHorizontal","curveVertical","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","size","tan30","tan30_2","ka","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","type","symbol","that","Basis","BasisClosed","noop","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bump","_x","bumpX","bumpY","Bundle","beta","_basis","_beta","_y","custom","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","m","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","create","monotoneX","monotoneY","Natural","px","controlPoints","py","i0","i1","Step","_t","stepBefore","stepAfter","series","order","o","stackValue","stackSeries","orderNone","offset","offsetNone","stack","sz","oz","yp","yn","s2","si","sij0","sij1","s3","sk","skj0","skj1","peaks","peak","vi","vj","Infinity","sums","top","bottom","tops","bottoms","concat","performanceEls","performanceCanvas","performanceDayBtn","performanceMonthBtn","performanceHeading","queryPerformanceEls","addPerformanceRenderHandler","btn","parentElement","updatePerformanceHeading","clearPerformanceCanvas","chartData","renderPerformanceChart","testData","canvasRect","getBoundingClientRect","margin","right","left","graphWidth","width","graphHeight","height","svg","d3","select","append","attr","graph","scaleLinear","range","xAxisGroup","yAxisGroup","position","updatePerformanceChart","Date","maxMinVals","extent","gap","domain","circles","selectAll","enter","xAxis","axisBottom","ticks","tickFormat","shortDate","yAxis","axisLeft","yAxisTicks","yTicksTranslates","horizontalLinesGroup","horizontalLine","points","pointsCoords","labelsGroup","label","text","dailyData","formatPerformanceData","bestWorstEls","id","bestWorstCanvas","queryBestWorstEls","clearWorstBestCanvas","renderWorstBestChart","scaleBand","paddingInner","paddingOuter","updateWorstBestChart","rects","bandwidth","bars","barsDimensions","bar","xOverlayLineGroup","controlCalcCapital","controlCalcPosition","controlCalcRatio","controlMonthlyRender","computedData","controlProfitableRender","newProfitable","controlOverallRender","controlPerformanceRender","controlWorstBestRender","queryDOM","window","resizeTimer","clearTimeout","OVERLAY_ID","OldModule","module","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","appendChild","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"controller.f22f2928.js","sourceRoot":"..\\src","sourcesContent":["let calculatorEls = {};\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.calcPosition = document.querySelector('.js-calc-position');\r\n  obj.positionEntryPrice = obj.calcPosition.querySelector(\r\n    '.js-calc-position-entry'\r\n  );\r\n  obj.positionRiskPercentage = obj.calcPosition.querySelector(\r\n    '.js-calc-position-percentage'\r\n  );\r\n  obj.positionStopPrice = obj.calcPosition.querySelector(\r\n    '.js-calc-position-stop'\r\n  );\r\n  obj.positionResult = obj.calcPosition.querySelector(\r\n    '.js-calc-position-result'\r\n  );\r\n  obj.calcRatio = document.querySelector('.js-calc-ratio');\r\n  obj.ratioEntryPrice = obj.calcRatio.querySelector('.js-calc-ratio-entry');\r\n  obj.ratioExitPrice = obj.calcRatio.querySelector('.js-calc-ratio-exit');\r\n  obj.ratioStopPrice = obj.calcRatio.querySelector('.js-calc-ratio-stop');\r\n  obj.ratioResult = obj.calcRatio.querySelector('.js-calc-ratio-result');\r\n  obj.calcCapital = document.querySelector('.js-calc-capital');\r\n  obj.capitalSign = obj.calcCapital.querySelector('.js-calc-capital-sign');\r\n  obj.capitalSignBtn = obj.calcCapital.querySelector(\r\n    '.js-calc-capital-sign-btn'\r\n  );\r\n  obj.capitalInput = obj.calcCapital.querySelector('.js-calc-capital-input');\r\n  obj.capitalUpdateBtn = obj.calcCapital.querySelector(\r\n    '.js-calc-capital-update-btn'\r\n  );\r\n  obj.capitalMessage = obj.calcCapital.querySelector(\r\n    '.js-calc-capital-message'\r\n  );\r\n  return obj;\r\n};\r\n\r\nexport const queryCalcEls = function () {\r\n  calculatorEls = getElements();\r\n};\r\n\r\nconst checkFieldsForData = function (el1, el2, el3) {\r\n  if (!el1.value || !el2.value || !el3.value) return;\r\n  return [+el1.value, +el2.value, +el3.value];\r\n};\r\n\r\nexport const addCalcCapitalHandler = function (handler) {\r\n  calculatorEls.capitalUpdateBtn.addEventListener('click', e => {\r\n    const amount = +calculatorEls.capitalInput.value;\r\n    if (!amount || isNaN(amount)) return;\r\n    handler(amount, calculatorEls.capitalSign.getAttribute('data-action'));\r\n  });\r\n  calculatorEls.capitalSignBtn.addEventListener('click', e => {\r\n    if (\r\n      e.target.previousElementSibling.getAttribute('data-action') === 'plus'\r\n    ) {\r\n      calculatorEls.capitalSign.innerHTML = `\r\n      <svg class=\"svg svg--minus\" viewBox=\"0 0 13 13\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <rect y=\"5\" width=\"13\" height=\"3\" fill=\"#C4C4C4\"/>\r\n      </svg>\r\n      `;\r\n      calculatorEls.capitalSign.setAttribute('data-action', 'minus');\r\n      console.log(calculatorEls.capitalSign);\r\n    } else {\r\n      calculatorEls.capitalSign.innerHTML = `\r\n      <svg class=\"svg svg--plus\" viewBox=\"0 0 13 13\"\r\n        xmlns=\"http://www.w3.org/2000/svg\">\r\n        <rect y=\"5\" width=\"13\" height=\"3\" fill=\"#C4C4C4\" />\r\n        <rect x=\"8\" width=\"13\" height=\"3\" transform=\"rotate(90 8 0)\" fill=\"#C4C4C4\" />\r\n      </svg>\r\n      `;\r\n      calculatorEls.capitalSign.setAttribute('data-action', 'plus');\r\n      console.log(calculatorEls.capitalSign);\r\n    }\r\n  });\r\n};\r\n\r\nexport const addCalcPositionHandler = function (handler) {\r\n  [\r\n    calculatorEls.positionEntryPrice,\r\n    calculatorEls.positionRiskPercentage,\r\n    calculatorEls.positionStopPrice,\r\n  ].forEach(input => {\r\n    input.addEventListener('keyup', e => {\r\n      if (e.key === 'Tab' || (!isFinite(e.key) && e.key !== 'Backspace'))\r\n        return;\r\n\r\n      const formattedData = checkFieldsForData(\r\n        calculatorEls.positionEntryPrice,\r\n        calculatorEls.positionRiskPercentage,\r\n        calculatorEls.positionStopPrice\r\n      );\r\n      handler(formattedData);\r\n    });\r\n  });\r\n};\r\n\r\nexport const addCalcRatioHandler = function (handler) {\r\n  [\r\n    calculatorEls.ratioEntryPrice,\r\n    calculatorEls.ratioExitPrice,\r\n    calculatorEls.ratioStopPrice,\r\n  ].forEach(input => {\r\n    input.addEventListener('keyup', e => {\r\n      if (e.key === 'Tab' || (!isFinite(e.key) && e.key !== 'Backspace'))\r\n        return;\r\n\r\n      const formattedData = checkFieldsForData(\r\n        calculatorEls.ratioEntryPrice,\r\n        calculatorEls.ratioExitPrice,\r\n        calculatorEls.ratioStopPrice\r\n      );\r\n      handler(formattedData);\r\n    });\r\n  });\r\n};\r\n\r\nexport const renderCapitalMessage = function (arr) {\r\n  const spanEls = calculatorEls.capitalMessage.querySelectorAll('span');\r\n  spanEls[0].textContent = arr[0] === 'plus' ? 'added' : 'removed';\r\n  spanEls[1].textContent = arr[1];\r\n  spanEls[2].textContent = arr[2];\r\n  calculatorEls.capitalMessage.classList.add(\r\n    'c-calculator-capital__message--is-active'\r\n  );\r\n  setTimeout(() => {\r\n    calculatorEls.capitalMessage.classList.remove(\r\n      'c-calculator-capital__message--is-active'\r\n    );\r\n    calculatorEls.capitalInput.value = '';\r\n  }, 6000);\r\n};\r\n\r\nexport const renderCalcResult = function (result, el) {\r\n  calculatorEls[el].value = result;\r\n};\r\n\r\nexport const clearCalcResult = function (el) {\r\n  calculatorEls[el].value = '';\r\n};\r\n","export const stringifyNum = number =>\r\n  number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\nexport const makeAbsolute = num => Math.abs(num);\r\n\r\nexport const reduceData = arr => arr.reduce((acc, num) => acc + num, 0);\r\n\r\nexport const crunchData = function (arr) {\r\n  if (!Array.isArray(arr) || arr.length < 1) return [];\r\n  const singleNumber = reduceData(arr);\r\n  return (singleNumber / arr.length).toFixed(2);\r\n};\r\n\r\nexport const filterNonStrings = arr => {\r\n  let filtered = arr\r\n    .filter(item => typeof item === 'string' || typeof item === 'number')\r\n    .map(item => +item);\r\n  if (filtered.length < 1) filtered = [0];\r\n  return filtered;\r\n};\r\n\r\nexport const kFormatter = function (num, decimal = 999) {\r\n  if (!num) return 0;\r\n  return Math.abs(num) > decimal\r\n    ? Math.sign(num) * (Math.abs(num) / 1000).toFixed(2) + 'k'\r\n    : Math.sign(num) * Math.abs(num);\r\n};\r\n","import { stringifyNum } from './../helpers';\r\n\r\nconst user = {\r\n  capital: 7000,\r\n  overall: {\r\n    total: 723,\r\n    long: 395,\r\n    short: 328,\r\n  },\r\n  streaks: {\r\n    wins: {\r\n      trades: [\r\n        {\r\n          ID: 'ZYRwa5z',\r\n          ticker: 'NFLX',\r\n          date: '14/06/21',\r\n          profit: 253,\r\n        },\r\n        {\r\n          ID: 'Y58P1M',\r\n          ticker: 'BMBL',\r\n          date: '15/06/21',\r\n          profit: 312,\r\n        },\r\n      ],\r\n    },\r\n    losses: {\r\n      trades: [\r\n        {\r\n          ID: 'liJ56D3',\r\n          ticker: 'AMZN',\r\n          date: '12/08/21',\r\n          loss: -90,\r\n        },\r\n        {\r\n          ID: 'Y58P1M',\r\n          ticker: 'X',\r\n          date: '21/07/21',\r\n          loss: -112,\r\n        },\r\n      ],\r\n    },\r\n    current: {\r\n      trades: [\r\n        {\r\n          ID: 'ZYRwa5z',\r\n          ticker: 'NFLX',\r\n          date: '14/06/21',\r\n          profit: 253,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  worstTrades: [\r\n    {\r\n      ID: 'ZYRwa5z',\r\n      ticker: 'NFLX',\r\n      date: '14/06/21',\r\n      loss: 253,\r\n    },\r\n    {\r\n      ID: 'Y58P1M1',\r\n      ticker: 'BMBL',\r\n      date: '15/06/21',\r\n      loss: 312,\r\n    },\r\n  ],\r\n  bestTrades: [\r\n    {\r\n      ID: 'ZYRwa5z',\r\n      ticker: 'NFLX',\r\n      date: '14/06/21',\r\n      loss: 253,\r\n    },\r\n    {\r\n      ID: 'Y58P1M1',\r\n      ticker: 'BMBL',\r\n      date: '15/06/21',\r\n      loss: 312,\r\n    },\r\n  ],\r\n  tickers: {\r\n    AAL: {\r\n      ticker: 'AAL',\r\n      profitable: 0,\r\n      trades: [\r\n        {\r\n          ID: '7Ft7s4w',\r\n          shares: 60,\r\n          result: 121,\r\n          winPercentage: 1.44,\r\n        },\r\n        {\r\n          ID: 'p8Hi52N',\r\n          shares: 72,\r\n          result: 118,\r\n          winPercentage: 1.32,\r\n        },\r\n        {\r\n          ID: 'Jk6sDew',\r\n          shares: 70,\r\n          result: -82,\r\n          winPercentage: -1,\r\n        },\r\n      ],\r\n    },\r\n    AAPL: {\r\n      ticker: 'AAPL',\r\n      profitable: 0,\r\n      trades: [\r\n        {\r\n          ID: 'QHnv65t',\r\n          shares: 40,\r\n          result: 175,\r\n          winPercentage: 1.54,\r\n        },\r\n        {\r\n          ID: 'kG24s8i',\r\n          shares: 50,\r\n          result: 125,\r\n          winPercentage: 1.23,\r\n        },\r\n        {\r\n          ID: 'Vz9qA1k',\r\n          shares: 42,\r\n          result: -102,\r\n          winPercentage: -1.1,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  profitable: {\r\n    // BMBL: {\r\n    //   totalProfit: 2780,\r\n    //   totalShares: 312,\r\n    //   avgReturn: 134,\r\n    //   avgWinPercentage: 1.56,\r\n    //   battingAvgPercentage: 64,\r\n    //   winLossRatio: 3.11,\r\n    // },\r\n    // AAPL: {\r\n    //   totalProfit: 2780,\r\n    //   totalShares: 312,\r\n    //   avgReturn: 134,\r\n    //   avgWinPercentage: 1.56,\r\n    //   battingAvgPercentage: 64,\r\n    //   winLossRatio: 3.11,\r\n    // },\r\n  },\r\n  monthlyData: {},\r\n  calendarData: {\r\n    jul21: [\r\n      {\r\n        ID: 'Kr92fYl',\r\n        side: 'short',\r\n        result: -90,\r\n        resultPercentage: -0.9,\r\n        date: '02/07/21',\r\n      },\r\n      {\r\n        ID: 'P9gHt21',\r\n        side: 'long',\r\n        result: -86,\r\n        resultPercentage: -0.84,\r\n        date: '07/07/21',\r\n      },\r\n      {\r\n        ID: 'K88spRl',\r\n        side: 'long',\r\n        result: 146,\r\n        resultPercentage: 1.46,\r\n        date: '15/07/21',\r\n      },\r\n      {\r\n        ID: 'Mn3z2pl',\r\n        side: 'short',\r\n        result: 67,\r\n        resultPercentage: 0.63,\r\n        date: '20/07/21',\r\n      },\r\n    ],\r\n    jun21: [\r\n      {\r\n        ID: 'OL4stW4',\r\n        side: 'long',\r\n        result: 240,\r\n        resultPercentage: 1.83,\r\n        date: '04/06/21',\r\n      },\r\n      {\r\n        ID: 'SLX8f6s',\r\n        side: 'long',\r\n        result: -130,\r\n        resultPercentage: -1.92,\r\n        date: '13/06/21',\r\n      },\r\n      {\r\n        ID: 'SLX8f6a',\r\n        side: 'long',\r\n        result: -130,\r\n        resultPercentage: -1.92,\r\n        date: '19/06/21',\r\n      },\r\n      {\r\n        ID: 'Qr4fG61',\r\n        side: 'short',\r\n        result: 106,\r\n        resultPercentage: 1.02,\r\n        date: '24/06/21',\r\n      },\r\n    ],\r\n    may21: [\r\n      {\r\n        ID: 'HR6q2pf',\r\n        side: 'short',\r\n        result: -160,\r\n        resultPercentage: -1.42,\r\n        date: '07/05/21',\r\n      },\r\n      {\r\n        ID: 'Gq9pd4H',\r\n        side: 'short',\r\n        result: -80,\r\n        resultPercentage: -0.8,\r\n        date: '11/05/21',\r\n      },\r\n      {\r\n        ID: 'Bd99sd1',\r\n        side: 'long',\r\n        result: 213,\r\n        resultPercentage: 2.2,\r\n        date: '19/05/21',\r\n      },\r\n      {\r\n        ID: 'lE59t6A',\r\n        side: 'short',\r\n        result: 110,\r\n        resultPercentage: 1.1,\r\n        date: '25/05/21',\r\n      },\r\n    ],\r\n  },\r\n  journal: [\r\n    {\r\n      ID: 'Hf5t3q1',\r\n      ticker: 'ROKU',\r\n      date: '28/07/21',\r\n      side: 'short',\r\n      entries: [\r\n        [180.75, 40],\r\n        [180.9, 60],\r\n      ],\r\n      exits: [\r\n        [181.15, 20],\r\n        [181.42, 20],\r\n        [182.69, 60],\r\n      ],\r\n      body:\r\n        'Commodo ullamcorper a lacus vestibulum sed. Non odio euismod lacinia at quis risus. Ultrices tincidunt arcu non sodales neque sodales. Sodales neque sodales ut etiam sit amet. Viverra orci sagittis eu volutpat. In nisl nisi scelerisque eu ultrices vitae auctor eu augue. Ultrices in iaculis nunc sed augue lacus viverra.',\r\n    },\r\n    {\r\n      ID: 'nC4s97Q',\r\n      ticker: 'RIOT',\r\n      date: '28/07/21',\r\n      side: 'short',\r\n      entries: [\r\n        [22.31, 80],\r\n        [22.41, 60],\r\n      ],\r\n      exits: [\r\n        [24.11, 40],\r\n        [24.5, 50],\r\n        [24.77, 50],\r\n      ],\r\n      body:\r\n        'Quis varius quam quisque id diam vel quam. Vulputate sapien nec sagittis aliquam malesuada bibendum. Et ultrices neque ornare aenean euismod elementum nisi quis. Amet luctus venenatis lectus magna fringilla urna porttitor. In est ante in nibh mauris cursus mattis.',\r\n    },\r\n  ],\r\n};\r\n\r\nconsole.log(user);\r\n\r\nexport const passData = function (field) {\r\n  return user[field];\r\n};\r\n\r\nexport const passNestedData = function (field, field2) {\r\n  if (field2) {\r\n    return { [field2]: user[field][field2] };\r\n  } else {\r\n    return user[field];\r\n  }\r\n};\r\n\r\nexport const updateCapital = function (amount, action) {\r\n  action = Math.abs(action);\r\n  if (action === 'minus') user.capital -= amount;\r\n  if (action === 'plus') user.capital += amount;\r\n  if (user.capital < 0) user.capital = 0;\r\n  return [action, stringifyNum(amount), stringifyNum(user.capital)];\r\n};\r\n\r\nexport const updateMonthlyData = function (obj) {\r\n  Object.keys(obj).forEach(key => {\r\n    user.monthlyData[key] = obj[key];\r\n  });\r\n  return user.monthlyData;\r\n};\r\n\r\nexport const updateProfitableData = function (items) {\r\n  items.forEach(item => {\r\n    const [newLeader, oldLeader] = item;\r\n    if (oldLeader) delete user.profitable[oldLeader];\r\n    if (newLeader) {\r\n      const getTicker = Object.keys(newLeader)[0];\r\n      user.profitable[getTicker] = newLeader[getTicker];\r\n    }\r\n  });\r\n  return user.profitable;\r\n};\r\n","import { makeAbsolute } from '../helpers';\r\n\r\nexport const calcPositionResult = function (accountCapital, dataArr) {\r\n  const [entry, risk, stop] = dataArr;\r\n  const moneyRisk = accountCapital * (risk * 0.01);\r\n  const stopDistance = makeAbsolute(entry - stop);\r\n  return stopDistance !== 0 ? Math.round(moneyRisk / stopDistance) : 0;\r\n};\r\n\r\nexport const calcRatioResult = function (dataArr) {\r\n  console.log('fresh array', dataArr);\r\n  const [entry, exit, stop] = dataArr;\r\n  if (dataArr.sort((a, b) => a - b).indexOf(entry) !== 1) return;\r\n  const exitDistance = makeAbsolute(exit - entry);\r\n  const stopDistance = makeAbsolute(entry - stop);\r\n  return (exitDistance / stopDistance).toFixed(2);\r\n};\r\n","let monthlyEls = {};\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.monthlyTable = document.querySelector('.js-monthly-table');\r\n  obj.monthlyTableHead = obj.monthlyTable.querySelector(\r\n    '.js-monthly-table-head'\r\n  );\r\n  return obj;\r\n};\r\n\r\nexport const queryMonthlyEls = function () {\r\n  monthlyEls = getElements();\r\n};\r\n\r\nexport const renderMonthlyTable = function (data) {\r\n  const keys = Object.keys(data).reverse();\r\n  keys.forEach(key => {\r\n    const current = data[key];\r\n    const html = `\r\n    <tr>\r\n        <th>${current.total.month}</th>\r\n        <td class=\"${current.total.monthlyReturn >= 0 ? '' : 'negative'}\">${\r\n      current.total.monthlyReturn\r\n    }</td>\r\n        <td>${current.total.totalTrades}</td>\r\n        <td class=\"${current.total.avgReturn >= 0 ? '' : 'negative'}\">${\r\n      current.total.avgReturn\r\n    }</td>\r\n        <td>${+current.total.avgWinPercent}%</td>\r\n        <td>${+current.total.avgLossPercent}%</td>\r\n        <td>${+current.total.battingAvg}%</td>\r\n        <td>${current.total.winLossRatio}</td>\r\n    </tr>\r\n    <tr>\r\n        <th>${current.long.side}</th>\r\n        <td class=\"${current.long.monthlyReturn >= 0 ? '' : 'negative'}\">${\r\n      current.long.monthlyReturn\r\n    }</td>\r\n        <td>${current.long.totalTrades}</td>\r\n        <td class=\"${current.long.avgReturn >= 0 ? '' : 'negative'}\">${\r\n      current.long.avgReturn\r\n    }</td>\r\n        <td>${+current.long.avgWinPercent}%</td>\r\n        <td>${+current.long.avgLossPercent}%</td>\r\n        <td>${+current.long.battingAvg}%</td>\r\n        <td>${current.long.winLossRatio}</td>\r\n    </tr>\r\n    <tr class=\"s-monthly__table-unit\">\r\n        <th>${current.short.side}</th>\r\n        <td class=\"${current.short.monthlyReturn >= 0 ? '' : 'negative'}\">${\r\n      current.short.monthlyReturn\r\n    }</td>\r\n        <td>${current.short.totalTrades}</td>\r\n        <td class=\"${current.short.avgReturn >= 0 ? '' : 'negative'}\">${\r\n      current.short.avgReturn\r\n    }</td>\r\n        <td>${+current.short.avgWinPercent}%</td>\r\n        <td>${+current.short.avgLossPercent}%</td>\r\n        <td>${+current.short.battingAvg}%</td>\r\n        <td>${current.short.winLossRatio}</td>\r\n    </tr>\r\n    `;\r\n    monthlyEls.monthlyTableHead.insertAdjacentHTML('afterend', html);\r\n  });\r\n};\r\n","let profitableEls = {};\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.profitableTable = document.querySelector('.js-profitable-table');\r\n  obj.profitableTableHead = obj.profitableTable.querySelector(\r\n    '.js-profitable-table-head'\r\n  );\r\n  return obj;\r\n};\r\n\r\nexport const queryProfitableEls = function () {\r\n  profitableEls = getElements();\r\n};\r\n\r\nexport const renderProfitableTable = function (tableData) {\r\n  Object.keys(tableData).forEach(data => {\r\n    const ticker = tableData[data];\r\n    const html = `\r\n        <tr>\r\n            <th>${data}</th>\r\n            <td>${ticker.totalProfit}</td>\r\n            <td>${ticker.totalTrades}</td>\r\n            <td>${ticker.avgReturn}</td>\r\n            <td>${ticker.avgWinPercent}%</td>\r\n            <td>${ticker.battingAvgPercent}%</td>\r\n            <td>${ticker.winLossRatio}</td>\r\n        </tr>\r\n      `;\r\n    profitableEls.profitableTableHead.insertAdjacentHTML('afterend', html);\r\n  });\r\n};\r\n","let overallEls = {};\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.pieStreakCard = document.querySelector('.js-pie-streak');\r\n  obj.winStreakDate = obj.pieStreakCard.querySelector('.js-win-streak-date');\r\n  obj.winStreakTotal = obj.pieStreakCard.querySelector('.js-win-streak-total');\r\n  obj.winStreakProfit = obj.pieStreakCard.querySelector(\r\n    '.js-win-streak-profit'\r\n  );\r\n  obj.lossStreakDate = obj.pieStreakCard.querySelector('.js-loss-streak-date');\r\n  obj.lossStreakTotal = obj.pieStreakCard.querySelector(\r\n    '.js-loss-streak-total'\r\n  );\r\n  obj.lossStreakProfit = obj.pieStreakCard.querySelector(\r\n    '.js-loss-streak-profit'\r\n  );\r\n  return obj;\r\n};\r\n\r\nexport const queryOverallEls = function () {\r\n  overallEls = getElements();\r\n};\r\n\r\nexport const renderStreaks = function (data) {\r\n  overallEls.winStreakTotal.textContent = data.wins.trades.length;\r\n  overallEls.winStreakProfit.textContent = data.wins.trades\r\n    .map(trade => trade.profit)\r\n    .reduce((acc, num) => acc + num, 0);\r\n  overallEls.winStreakDate.textContent = `${data.wins.trades[0].date} - ${\r\n    data.wins.trades[data.wins.trades.length - 1].date\r\n  }`;\r\n\r\n  overallEls.lossStreakTotal.textContent = data.losses.trades.length;\r\n  overallEls.lossStreakProfit.textContent = data.losses.trades\r\n    .map(trade => trade.loss)\r\n    .reduce((acc, num) => acc + num, 0);\r\n  overallEls.lossStreakDate.textContent = `${data.losses.trades[0].date} - ${\r\n    data.losses.trades[data.losses.trades.length - 1].date\r\n  }`;\r\n};\r\n","// import { reduce } from 'core-js/core/array';\r\nimport { crunchData, reduceData, filterNonStrings } from '../helpers';\r\n\r\nconst createPlaceholderObj = function (current, key) {\r\n  return {\r\n    total: {\r\n      month: key,\r\n      monthlyReturn: [0],\r\n      totalTrades: current.length,\r\n      avgReturn: [],\r\n      avgWinPercent: [],\r\n      avgLossPercent: [],\r\n      profitableNumber: 0,\r\n      battingAvg: 0,\r\n      winLossRatio: [],\r\n    },\r\n    long: {\r\n      side: 'long',\r\n      monthlyReturn: [0],\r\n      totalTrades: 0,\r\n      avgReturn: [],\r\n      avgWinPercent: [],\r\n      avgLossPercent: [],\r\n      profitableNumber: 0,\r\n      battingAvg: [],\r\n      winLossRatio: [],\r\n    },\r\n    short: {\r\n      side: 'short',\r\n      monthlyReturn: [0],\r\n      totalTrades: 0,\r\n      avgReturn: [],\r\n      avgWinPercent: [],\r\n      avgLossPercent: [],\r\n      profitableNumber: 0,\r\n      battingAvg: [],\r\n      winLossRatio: [],\r\n    },\r\n  };\r\n};\r\n\r\nconst calcBattingAvg = function (profitable, total) {\r\n  return Math.round((profitable / total) * 100);\r\n};\r\n\r\nconst calcWinLossRatio = function (profitable, total) {\r\n  if (profitable === total) total++;\r\n  return (profitable / (total - profitable)).toFixed(2);\r\n};\r\n\r\nexport const computeMonthlyData = function (rawData) {\r\n  const formattedMonths = {};\r\n  const keys = Object.keys(rawData);\r\n\r\n  keys.forEach(key => {\r\n    const currentMonth = rawData[key];\r\n    let tableUnit = createPlaceholderObj(currentMonth, key);\r\n\r\n    currentMonth.forEach(trade => {\r\n      let currentSide; // decided which object to add data to\r\n      if (trade.side === 'long') currentSide = tableUnit.long;\r\n      else if (trade.side === 'short') currentSide = tableUnit.short;\r\n      currentSide.monthlyReturn.push(trade.result); // monthly return\r\n      currentSide.totalTrades++; // total trades\r\n      currentSide.avgReturn.push(trade.result); // avg Return\r\n      // avg win and loss %\r\n      if (trade.resultPercentage >= 0) {\r\n        currentSide.avgWinPercent.push(trade.resultPercentage);\r\n        tableUnit.total.profitableNumber++;\r\n        currentSide.profitableNumber++;\r\n      } else if (trade.resultPercentage <= 0) {\r\n        currentSide.avgLossPercent.push(trade.resultPercentage);\r\n      }\r\n    });\r\n\r\n    // crunch the array data into single numbers\r\n    tableUnit.long.monthlyReturn = reduceData(tableUnit.long.monthlyReturn);\r\n    tableUnit.long.avgReturn = crunchData(tableUnit.long.avgReturn);\r\n    tableUnit.long.avgWinPercent = crunchData(tableUnit.long.avgWinPercent);\r\n    tableUnit.long.avgLossPercent = crunchData(tableUnit.long.avgLossPercent);\r\n\r\n    tableUnit.short.monthlyReturn = reduceData(tableUnit.short.avgReturn);\r\n    tableUnit.short.avgReturn = crunchData(tableUnit.short.avgReturn);\r\n    tableUnit.short.avgWinPercent = crunchData(tableUnit.short.avgWinPercent);\r\n    tableUnit.short.avgLossPercent = crunchData(tableUnit.short.avgLossPercent);\r\n\r\n    tableUnit.total.monthlyReturn = reduceData([\r\n      tableUnit.long.monthlyReturn,\r\n      tableUnit.short.monthlyReturn,\r\n    ]);\r\n    tableUnit.total.avgReturn = crunchData(\r\n      filterNonStrings([tableUnit.long.avgReturn, tableUnit.short.avgReturn])\r\n    );\r\n    tableUnit.total.avgWinPercent = crunchData(\r\n      filterNonStrings([\r\n        tableUnit.long.avgWinPercent,\r\n        tableUnit.short.avgWinPercent,\r\n      ])\r\n    );\r\n    tableUnit.total.avgLossPercent = crunchData(\r\n      filterNonStrings([\r\n        tableUnit.long.avgLossPercent,\r\n        tableUnit.short.avgLossPercent,\r\n      ])\r\n    );\r\n\r\n    // batting avg %\r\n    tableUnit.long.battingAvg = calcBattingAvg(\r\n      tableUnit.long.profitableNumber,\r\n      tableUnit.long.totalTrades\r\n    );\r\n\r\n    tableUnit.short.battingAvg = calcBattingAvg(\r\n      tableUnit.short.profitableNumber,\r\n      tableUnit.short.totalTrades\r\n    );\r\n\r\n    tableUnit.total.battingAvg = calcBattingAvg(\r\n      tableUnit.total.profitableNumber,\r\n      tableUnit.total.totalTrades\r\n    );\r\n\r\n    // win loss ratio\r\n    tableUnit.long.winLossRatio = calcWinLossRatio(\r\n      tableUnit.long.profitableNumber,\r\n      tableUnit.long.totalTrades\r\n    );\r\n\r\n    tableUnit.short.winLossRatio = calcWinLossRatio(\r\n      tableUnit.short.profitableNumber,\r\n      tableUnit.short.totalTrades\r\n    );\r\n\r\n    tableUnit.total.winLossRatio = calcWinLossRatio(\r\n      tableUnit.total.profitableNumber,\r\n      tableUnit.total.totalTrades\r\n    );\r\n\r\n    formattedMonths[key] = tableUnit;\r\n  });\r\n  return formattedMonths;\r\n};\r\n","const convertToLeader = function (data) {\r\n  const ticker = data.ticker;\r\n  const formattedLeader = {\r\n    [ticker]: {\r\n      totalTrades: data.trades.length,\r\n      profitable: 0,\r\n      totalProfit: 0,\r\n      totalShares: 0,\r\n      avgReturn: 0,\r\n      avgWinPercent: 0,\r\n      battingAvgPercent: 0,\r\n      winLossRatio: 0,\r\n    },\r\n  };\r\n\r\n  const current = formattedLeader[ticker];\r\n\r\n  const tradeResults = data.trades.map(trade => trade.result);\r\n  const totalProfit = tradeResults.reduce((acc, num) => acc + num, 0);\r\n  const totalShares = data.trades\r\n    .map(trade => trade.shares)\r\n    .reduce((acc, num) => acc + num, 0);\r\n  const winPercentTrades = data.trades\r\n    .map(trade => trade.winPercentage)\r\n    .filter(percent => percent >= 0);\r\n\r\n  current.totalProfit = totalProfit;\r\n  current.totalShares = totalShares;\r\n  current.avgReturn = +(totalProfit / current.totalTrades).toFixed(0);\r\n  current.avgWinPercent =\r\n    winPercentTrades.reduce((acc, num) => acc + num) / winPercentTrades.length;\r\n  current.profitable = winPercentTrades.length;\r\n  current.battingAvgPercent = +(\r\n    (current.profitable / current.totalTrades) *\r\n    100\r\n  ).toFixed(2);\r\n  current.winLossRatio = +(\r\n    current.profitable /\r\n    (current.totalTrades - current.profitable)\r\n  ).toFixed(2);\r\n  return formattedLeader;\r\n};\r\n\r\nexport const checkAgainstLeaders = function (leaders, dataArr) {\r\n  const newLeadersArr = [];\r\n\r\n  Object.keys(dataArr[0]).forEach(key => {\r\n    const data = dataArr[0][key];\r\n    let newLeader;\r\n    let leaderSmallestAvg;\r\n    if (data.trades.length < 3) return { newLeader, leaderSmallestAvg }; // check if number of trades is greater than three\r\n\r\n    const leaderTickers = Object.keys(leaders);\r\n    const leaderAvgReturn = [];\r\n\r\n    // calculate avg wi percentage on the new data\r\n    const avgWinPercent = (\r\n      data.trades\r\n        .map(trade => trade.winPercentage)\r\n        .reduce((acc, num) => acc + num, 0) / data.trades.length\r\n    ).toFixed(2);\r\n\r\n    // if the length of the leader tickers array is bigger than 6, push the avg return of each leader to an array\r\n    // sort the array so that the leader with the smallest avgWinPercent is first\r\n    // Compare the smallest leader to current data\r\n    // if the avgWinPercent of the current data is larger than the smallest leader, create a new leader\r\n    if (leaderTickers.length >= 6) {\r\n      leaderTickers.forEach(ticker => {\r\n        leaderAvgReturn.push([leaders[ticker].avgWinPercent, ticker]);\r\n      });\r\n      leaderSmallestAvg = leaderAvgReturn.sort((a, b) => a[0] - b[0])[0];\r\n      if (avgWinPercent > leaderSmallestAvg) newLeader = convertToLeader(data);\r\n    }\r\n\r\n    // if the length of the leader tickers array is smaller than six, create a new leader\r\n    if (leaderTickers.length < 6) {\r\n      newLeader = convertToLeader(data);\r\n    }\r\n    newLeadersArr.push([newLeader, leaderSmallestAvg]);\r\n  });\r\n\r\n  return newLeadersArr;\r\n};\r\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export {default as path} from \"./path.js\";\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function(type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","class Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export {default as arc} from \"./arc.js\";\nexport {default as area} from \"./area.js\";\nexport {default as line} from \"./line.js\";\nexport {default as pie} from \"./pie.js\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial.js\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial.js\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial.js\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./link/index.js\";\n\nexport {default as symbol, symbols} from \"./symbol.js\";\nexport {default as symbolCircle} from \"./symbol/circle.js\";\nexport {default as symbolCross} from \"./symbol/cross.js\";\nexport {default as symbolDiamond} from \"./symbol/diamond.js\";\nexport {default as symbolSquare} from \"./symbol/square.js\";\nexport {default as symbolStar} from \"./symbol/star.js\";\nexport {default as symbolTriangle} from \"./symbol/triangle.js\";\nexport {default as symbolWye} from \"./symbol/wye.js\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed.js\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen.js\";\nexport {default as curveBasis} from \"./curve/basis.js\";\nexport {bumpX as curveBumpX, bumpY as curveBumpY} from \"./curve/bump.js\";\nexport {default as curveBundle} from \"./curve/bundle.js\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed.js\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen.js\";\nexport {default as curveCardinal} from \"./curve/cardinal.js\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed.js\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen.js\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom.js\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed.js\";\nexport {default as curveLinear} from \"./curve/linear.js\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone.js\";\nexport {default as curveNatural} from \"./curve/natural.js\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step.js\";\n\nexport {default as stack} from \"./stack.js\";\nexport {default as stackOffsetExpand} from \"./offset/expand.js\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging.js\";\nexport {default as stackOffsetNone} from \"./offset/none.js\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette.js\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle.js\";\nexport {default as stackOrderAppearance} from \"./order/appearance.js\";\nexport {default as stackOrderAscending} from \"./order/ascending.js\";\nexport {default as stackOrderDescending} from \"./order/descending.js\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut.js\";\nexport {default as stackOrderNone} from \"./order/none.js\";\nexport {default as stackOrderReverse} from \"./order/reverse.js\";\n","import { path } from 'd3-path';\r\nimport { curveLinearClosed } from 'd3-shape';\r\nimport { kFormatter } from '../helpers';\r\n\r\nlet performanceEls = {};\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.performanceCanvas = document.querySelector('.js-performance-canvas');\r\n  obj.performanceDayBtn = document.querySelector('.js-performance-btn-day');\r\n  obj.performanceMonthBtn = document.querySelector('.js-performance-btn-month');\r\n  obj.performanceHeading = document.querySelector('.js-performance-heading');\r\n  return obj;\r\n};\r\n\r\nexport const queryPerformanceEls = function () {\r\n  performanceEls = getElements();\r\n};\r\n\r\nexport const addPerformanceRenderHandler = function (handler) {\r\n  [\r\n    performanceEls.performanceDayBtn,\r\n    performanceEls.performanceMonthBtn,\r\n  ].forEach(btn =>\r\n    btn.addEventListener('click', e => {\r\n      btn.parentElement\r\n        .querySelectorAll('button')\r\n        .forEach(b => b.classList.remove('btn--tertiary--active'));\r\n      e.target.classList.add('btn--tertiary--active');\r\n      handler(e.target.getAttribute('data-type'));\r\n    })\r\n  );\r\n};\r\n\r\nconst updatePerformanceHeading = function (type) {\r\n  performanceEls.performanceHeading.querySelector('span').textContent = type;\r\n};\r\n\r\nexport const clearPerformanceCanvas = function () {\r\n  performanceEls.performanceCanvas.innerHTML = '';\r\n};\r\n\r\nlet chartData = [];\r\n\r\nexport const renderPerformanceChart = function (testData) {\r\n  // ZONE - D3\r\n\r\n  let type, data;\r\n  if (testData) {\r\n    type = testData[0];\r\n    data = testData[1];\r\n    updatePerformanceHeading(type);\r\n  }\r\n  if (data) chartData = [...data];\r\n  else data = chartData;\r\n\r\n  const canvasRect = performanceEls.performanceCanvas.getBoundingClientRect();\r\n\r\n  // create room for axes\r\n  const margin = { top: 25, right: 20, bottom: 50, left: 50 };\r\n  const graphWidth = canvasRect.width - margin.left - margin.right;\r\n  const graphHeight = canvasRect.height - margin.top - margin.bottom;\r\n\r\n  // create svg container, specify width & height, translate to create room for axes labels\r\n  const svg = d3\r\n    .select('.js-performance-canvas')\r\n    .append('svg')\r\n    .attr('class', 'performance-canvas')\r\n    .attr('viewBox', `0 0 ${canvasRect.width} ${canvasRect.height}`);\r\n\r\n  // create a group for our graph elements and append it to our svg\r\n  const graph = svg\r\n    .append('g')\r\n    .attr('width', graphWidth)\r\n    .attr('height', graphHeight)\r\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n  // create scales\r\n  const x = d3.scaleLinear().range([0, graphWidth]);\r\n  const y = d3.scaleLinear().range([graphHeight, 0]);\r\n\r\n  // create axes groups\r\n  const xAxisGroup = graph\r\n    .append('g')\r\n    .attr('transform', `translate(0, ${graphHeight})`)\r\n    .attr('class', 'performance-axis-x');\r\n  const yAxisGroup = graph.append('g').attr('class', 'performance-axis-y');\r\n\r\n  // set up d3 line graph generator\r\n  // it will generate a line, based on our data points\r\n  // it returns a long string that is then used for 'd' attribute of the svg path\r\n  const line = d3\r\n    .line()\r\n    .x(function (d) {\r\n      return x(d.position);\r\n    })\r\n    .y(function (d) {\r\n      return y(d.total);\r\n    });\r\n\r\n  // create line path element\r\n  const path = graph.append('path');\r\n\r\n  // ZONE - update function\r\n  const updatePerformanceChart = function (data = chartData) {\r\n    // sort the data based on date object\r\n    data.sort((a, b) => new Date(a.date) - new Date(b.date));\r\n\r\n    // create responsive gaps for the chart\r\n    const maxMinVals = d3.extent(data, d => d.total);\r\n    const gap = Math.round((maxMinVals[1] - maxMinVals[0]) / 6);\r\n\r\n    // set scale domains\r\n    // x.domain(d3.extent(data, d => d.position)); // find the lowest and highest dates, return in array format\r\n    x.domain([\r\n      d3.min(data, d => d.position) - 0.5,\r\n      d3.max(data, d => d.position) + 0.5,\r\n    ]);\r\n    y.domain([\r\n      d3.min(data, d => d.total) - gap,\r\n      d3.max(data, d => d.total) + gap,\r\n    ]); // find the highest value\r\n\r\n    // update path data\r\n    // when we are using d3 line, we need to pass the data inside of another array\r\n    path.data([data]).attr('d', line).attr('class', 'performance-line');\r\n\r\n    // create circles for objects\r\n    // join data to the selection\r\n    const circles = graph.selectAll('circle').data(data);\r\n\r\n    // remove unwanted points\r\n    circles.exit().remove();\r\n\r\n    // add new points\r\n    circles\r\n      .enter()\r\n      .append('circle')\r\n      .attr('cx', d => x(d.position))\r\n      .attr('cy', d => {\r\n        return y(d.total);\r\n      })\r\n      .attr('class', 'performance-circles');\r\n\r\n    // update current points\r\n    circles.attr('cx', d => x(d.position)).attr('cy', d => y(d.total));\r\n\r\n    // create axes\r\n    const xAxis = d3\r\n      .axisBottom(x)\r\n      .ticks(data.length)\r\n      .tickFormat(d => (data[d - 1] ? data[d - 1].shortDate : '')); // create bottom axis based on our x scale\r\n\r\n    const yAxis = d3\r\n      .axisLeft(y)\r\n      .ticks(4)\r\n      .tickFormat(d => kFormatter(d, 999));\r\n\r\n    // generate all shapes for xAxis and yAxis and place them in axis groups\r\n    xAxisGroup.call(xAxis);\r\n    yAxisGroup.call(yAxis);\r\n\r\n    // ZONE - generate horizontal lines\r\n\r\n    const yAxisTicks = performanceEls.performanceCanvas.querySelectorAll(\r\n      'g.performance-axis-y g.tick'\r\n    );\r\n    const yTicksTranslates = Array.from(yAxisTicks).map(t =>\r\n      t.getAttribute('transform')\r\n    );\r\n\r\n    const horizontalLinesGroup = graph.append('g');\r\n\r\n    for (let i = 0; i < yTicksTranslates.length; i++) {\r\n      const horizontalLine = horizontalLinesGroup\r\n        .append('line')\r\n        .attr('class', 'performance-graph-line')\r\n        .attr('x1', 0)\r\n        .attr('x2', graphWidth)\r\n        .attr('y1', 0)\r\n        .attr('y2', 0)\r\n        .attr('transform', yTicksTranslates[i]);\r\n    }\r\n\r\n    // ZONE - create circle labels\r\n    const points = Array.from(\r\n      performanceEls.performanceCanvas.querySelectorAll(\r\n        'circle.performance-circles'\r\n      )\r\n    );\r\n    const pointsCoords = points.map(point => [\r\n      point.getAttribute('cx'),\r\n      point.getAttribute('cy'),\r\n    ]);\r\n\r\n    const labelsGroup = graph.append('g');\r\n\r\n    for (let i = 0; i < pointsCoords.length; i++) {\r\n      const label = labelsGroup\r\n        .append('text')\r\n        .text(kFormatter(data[i].total, 9999))\r\n        .attr(\r\n          'class',\r\n          `${\r\n            data[i].result >= 0\r\n              ? 'performance-label'\r\n              : 'performance-label--negative'\r\n          }`\r\n        )\r\n        .attr(\r\n          'transform',\r\n          `translate(${pointsCoords[i][0] - 20}, ${\r\n            pointsCoords[i][1] - (data[i].result >= 0 ? 15 : -25)\r\n          })`\r\n        );\r\n    }\r\n\r\n    // select x axis text and translate down every odd text to make space\r\n    xAxisGroup\r\n      .selectAll('g.tick:nth-child(odd) text')\r\n      .attr('transform', 'translate(0, 18)')\r\n      .attr('class', 'performance-axis-odd');\r\n  };\r\n\r\n  updatePerformanceChart(data);\r\n};\r\n","const dailyData = [\r\n  {\r\n    date: 'Mon Mar 01 2021 23:14:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 2400,\r\n    result: 400,\r\n    shortDate: '1/3/21',\r\n    position: 1,\r\n  },\r\n  {\r\n    date: 'Mon Mar 02 2021 23:13:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1200,\r\n    result: -1200,\r\n    shortDate: '2/3/21',\r\n    position: 2,\r\n  },\r\n  {\r\n    date: 'Mon Mar 03 2021 23:12:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 900,\r\n    result: -300,\r\n    shortDate: '3/3/21',\r\n    position: 3,\r\n  },\r\n  {\r\n    date: 'Mon Mar 04 2021 23:11:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1400,\r\n    result: 500,\r\n    shortDate: '4/3/21',\r\n    position: 4,\r\n  },\r\n  {\r\n    date: 'Mon Mar 05 2021 23:10:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 2200,\r\n    result: 800,\r\n    shortDate: '5/3/21',\r\n    position: 5,\r\n  },\r\n  {\r\n    date: 'Mon Mar 06 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 600,\r\n    result: -1600,\r\n    shortDate: '6/3/21',\r\n    position: 6,\r\n  },\r\n  {\r\n    date: 'Mon Mar 07 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 500,\r\n    result: -100,\r\n    shortDate: '7/3/21',\r\n    position: 7,\r\n  },\r\n  {\r\n    date: 'Mon Mar 12 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 660,\r\n    result: 160,\r\n    shortDate: '12/3/21',\r\n    position: 8,\r\n  },\r\n  {\r\n    date: 'Mon Mar 16 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 990,\r\n    result: 330,\r\n    shortDate: '16/3/21',\r\n    position: 9,\r\n  },\r\n  {\r\n    date: 'Mon Mar 18 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1300,\r\n    result: 310,\r\n    shortDate: '19/3/21',\r\n    position: 10,\r\n  },\r\n  {\r\n    date: 'Mon Mar 23 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1348,\r\n    result: 48,\r\n    shortDate: '23/3/21',\r\n    position: 11,\r\n  },\r\n  {\r\n    date: 'Mon Mar 24 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1450,\r\n    result: 112,\r\n    shortDate: '24/3/21',\r\n    position: 12,\r\n  },\r\n  {\r\n    date: 'Mon Mar 26 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1300,\r\n    result: -150,\r\n    shortDate: '26/3/21',\r\n    position: 13,\r\n  },\r\n  {\r\n    date: 'Mon Mar 27 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1423,\r\n    result: 123,\r\n    shortDate: '27/3/21',\r\n    position: 14,\r\n  },\r\n  {\r\n    date: 'Mon Mar 29 2021 23:09:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 1497,\r\n    result: 74,\r\n    shortDate: '29/3/21',\r\n    position: 15,\r\n  },\r\n];\r\n\r\nconst monthlyData = [\r\n  {\r\n    date: 'Mon Mar 01 2021 23:14:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 100500,\r\n    result: 2500,\r\n    shortDate: '3/21',\r\n    position: 1,\r\n  },\r\n  {\r\n    date: 'Mon Mar 02 2022 23:13:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 123260,\r\n    result: 18260,\r\n    shortDate: '4/21',\r\n    position: 2,\r\n  },\r\n  {\r\n    date: 'Mon Mar 03 2023 23:12:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 120000,\r\n    result: -3200,\r\n    shortDate: '5/21',\r\n    position: 3,\r\n  },\r\n  {\r\n    date: 'Mon Mar 03 2024 23:12:58 GMT+0000 (Greenwich Mean Time)',\r\n    total: 110340,\r\n    result: -10660,\r\n    shortDate: '5/21',\r\n    position: 4,\r\n  },\r\n];\r\n\r\nexport const formatPerformanceData = function (type) {\r\n  if (type === 'day') return ['Daily', dailyData];\r\n  if (type === 'month') return ['Monthly', monthlyData];\r\n};\r\n","import { kFormatter } from '../helpers';\r\n\r\nlet bestWorstEls = {};\r\n\r\nconst data = [\r\n  {\r\n    id: '8gW2a5Q',\r\n    ticker: 'ZM',\r\n    result: 240,\r\n    date: '3/4/21',\r\n  },\r\n  {\r\n    id: 'lK2G98Q',\r\n    ticker: 'MARA',\r\n    result: 173,\r\n    date: '3/5/21',\r\n  },\r\n  {\r\n    id: 'K14Ji98',\r\n    ticker: 'BMBL',\r\n    result: 166,\r\n    date: '13/4/21',\r\n  },\r\n  {\r\n    id: 'k98Ck9s',\r\n    ticker: 'X',\r\n    result: 130,\r\n    date: '26/3/21',\r\n  },\r\n  {\r\n    id: '92Kji63',\r\n    ticker: 'SNAP',\r\n    result: 122,\r\n    date: '1/3/21',\r\n  },\r\n  {\r\n    id: '8gW2a5Q',\r\n    ticker: 'GME',\r\n    result: 111,\r\n    date: '2/4/21',\r\n  },\r\n  {\r\n    id: 'Sd8tr32',\r\n    ticker: 'MSFT',\r\n    result: 103,\r\n    date: '5/6/21',\r\n  },\r\n  {\r\n    id: 'pa52Qs4',\r\n    ticker: 'ROKU',\r\n    result: 94,\r\n    date: '16/7/21',\r\n  },\r\n];\r\n\r\nconst getElements = function (obj = {}) {\r\n  obj.bestWorstCanvas = document.querySelector('.js-worst-best-canvas');\r\n  return obj;\r\n};\r\n\r\nexport const queryBestWorstEls = function () {\r\n  bestWorstEls = getElements();\r\n};\r\n\r\nexport const clearWorstBestCanvas = function () {\r\n  bestWorstEls.bestWorstCanvas.innerHTML = '';\r\n};\r\n\r\nexport const renderWorstBestChart = function () {\r\n  // ZONE - D3\r\n\r\n  const canvasRect = bestWorstEls.bestWorstCanvas.getBoundingClientRect();\r\n\r\n  // create room for axes\r\n  const margin = { top: 25, right: 20, bottom: 50, left: 50 };\r\n  const graphWidth = canvasRect.width - margin.left - margin.right;\r\n  const graphHeight = canvasRect.height - margin.top - margin.bottom;\r\n\r\n  console.log('THIS IS THE GRAPH WIDTH');\r\n  console.log(graphWidth);\r\n\r\n  // create svg container, specify width & height, translate to create room for axes labels\r\n  const svg = d3\r\n    .select('.js-worst-best-canvas')\r\n    .append('svg')\r\n    .attr('class', 'worst-best-canvas')\r\n    .attr('viewBox', `0 0 ${canvasRect.width} ${canvasRect.height}`);\r\n\r\n  // create graph for the elements and append it to our svg\r\n  const graph = svg\r\n    .append('g')\r\n    .attr('width', '600')\r\n    .attr('height', graphHeight)\r\n    .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n  // create scales\r\n  const y = d3.scaleLinear().range([graphHeight, 0]);\r\n  const x = d3\r\n    .scaleBand()\r\n    .range([0, graphWidth])\r\n    .paddingInner(0.5)\r\n    .paddingOuter(0.5);\r\n\r\n  // create a group for the x and y axis\r\n  const xAxisGroup = graph\r\n    .append('g')\r\n    .attr('transform', `translate(0, ${graphHeight})`)\r\n    .attr('class', 'worst-best-axis-x');\r\n  const yAxisGroup = graph.append('g').attr('class', 'worst-best-axis-y');\r\n\r\n  // create and call the axes\r\n  const xAxis = d3.axisBottom(x).tickFormat(d => d);\r\n  const yAxis = d3\r\n    .axisLeft(y)\r\n    .ticks(6)\r\n    .tickFormat(d => -Math.abs(kFormatter(d, 9999)));\r\n\r\n  // ZONE - update function\r\n  const updateWorstBestChart = function (data) {\r\n    // sort the data based on result\r\n    data.sort((a, b) => b.result - a.result);\r\n\r\n    // create responsive gap for the chart\r\n    const maxMinVals = d3.extent(data, d => d.result);\r\n    const gap = Math.round((maxMinVals[1] - maxMinVals[0]) / 6);\r\n\r\n    // set scale domains\r\n    y.domain([0, d3.max(data, d => d.result) + gap]);\r\n    x.domain(data.map(item => item.ticker));\r\n\r\n    // join data to rectangles inside our graph group\r\n    const rects = graph.selectAll('rect').data(data);\r\n\r\n    // remove any unwanted shapes\r\n    rects.exit().remove();\r\n\r\n    // update already existing rectangles in DOM\r\n    rects\r\n      .attr('width', x.bandwidth)\r\n      .attr('y', d => y(total))\r\n      .attr('fill', 'orange');\r\n\r\n    // update and append virtual elements\r\n    rects\r\n      .enter()\r\n      .append('rect')\r\n      .attr('width', x.bandwidth)\r\n      .attr('height', 0)\r\n      .attr('y', graphHeight)\r\n      .attr('x', d => x(d.ticker))\r\n      .attr('fill', 'orange')\r\n      .attr('height', d => graphHeight - y(d.result))\r\n      .attr('y', d => y(d.result))\r\n      .attr('class', 'worst-best-bars');\r\n\r\n    // apply axes to axes groups\r\n    xAxisGroup.call(xAxis);\r\n    yAxisGroup.call(yAxis);\r\n\r\n    // ZONE - create bars labels\r\n    const bars = Array.from(\r\n      bestWorstEls.bestWorstCanvas.querySelectorAll('rect.worst-best-bars')\r\n    );\r\n    const barsDimensions = bars.map(bar => [\r\n      bar.getAttribute('x'),\r\n      bar.getAttribute('y'),\r\n      bar.getAttribute('width'),\r\n      bar.getAttribute('height'),\r\n    ]);\r\n    console.log(barsDimensions);\r\n\r\n    const labelsGroup = graph.append('g');\r\n\r\n    for (let i = 0; i < barsDimensions.length; i++) {\r\n      labelsGroup\r\n        .append('text')\r\n        .text(-kFormatter(data[i].result, 9999))\r\n        .attr('class', 'worst-trades-label')\r\n        .attr(\r\n          'transform',\r\n          `translate(${barsDimensions[i][0]}, ${barsDimensions[i][1] - 10})`\r\n        );\r\n      labelsGroup\r\n        .append('text')\r\n        .text(data[i].date)\r\n        .attr('class', 'worst-best-date')\r\n        .attr(\r\n          'transform',\r\n          `translate(${barsDimensions[i][0] - 8}, ${\r\n            graphHeight - 10\r\n          }) rotate(-90)`\r\n        );\r\n    }\r\n\r\n    // ZONE - create horizontal line on the x axis to cover the bars borders\r\n    const xOverlayLineGroup = graph.append('g');\r\n    xOverlayLineGroup\r\n      .append('line')\r\n      .attr('x1', 0)\r\n      .attr('x2', graphWidth)\r\n      .attr('y1', graphHeight)\r\n      .attr('y2', graphHeight)\r\n      .attr('class', 'worst-best-overlay-line');\r\n\r\n    // select x axis text and translate down every odd text to make space\r\n    xAxisGroup\r\n      .selectAll('g.tick:nth-child(odd) text')\r\n      .attr('transform', 'translate(0, 18)');\r\n  };\r\n  updateWorstBestChart(data);\r\n};\r\n","import {\r\n  queryCalcEls,\r\n  addCalcCapitalHandler,\r\n  addCalcPositionHandler,\r\n  addCalcRatioHandler,\r\n  renderCapitalMessage,\r\n  renderCalcResult,\r\n  clearCalcResult,\r\n} from './views/calculatorsView';\r\nimport {\r\n  passData,\r\n  passNestedData,\r\n  updateCapital,\r\n  updateMonthlyData,\r\n  updateProfitableData,\r\n} from './models/dataModel';\r\nimport { calcPositionResult, calcRatioResult } from './models/calculatorsModel';\r\nimport { queryMonthlyEls, renderMonthlyTable } from './views/tableMonthlyView';\r\nimport {\r\n  queryProfitableEls,\r\n  renderProfitableTable,\r\n} from './views/tableProfitableView';\r\nimport { queryOverallEls, renderStreaks } from './views/chartOverallView';\r\nimport { computeMonthlyData } from './models/tableMonthlyModel';\r\nimport { checkAgainstLeaders } from './models/tableProfitableModel';\r\nimport {\r\n  queryPerformanceEls,\r\n  renderPerformanceChart,\r\n  addPerformanceRenderHandler,\r\n  clearPerformanceCanvas,\r\n} from './views/chartPerformanceView';\r\nimport { formatPerformanceData } from './models/chartPerformanceModel';\r\nimport {\r\n  queryBestWorstEls,\r\n  renderWorstBestChart,\r\n  clearWorstBestCanvas,\r\n} from './views/chartWorstBestView';\r\n\r\n// ZONE - controllers\r\n\r\nconst controlCalcCapital = function (amount, action) {\r\n  renderCapitalMessage(updateCapital(amount, action));\r\n};\r\n\r\nconst controlCalcPosition = function (data) {\r\n  if (!data) return clearCalcResult('positionResult');\r\n  const positionResult = calcPositionResult(passData('capital'), data);\r\n  if (isNaN(positionResult)) return;\r\n  renderCalcResult(positionResult, 'positionResult');\r\n};\r\n\r\nconst controlCalcRatio = function (data) {\r\n  if (!data) return clearCalcResult('ratioResult');\r\n  const ratioResult = calcRatioResult(data);\r\n  if (isNaN(ratioResult) || !ratioResult) return clearCalcResult('ratioResult');\r\n  renderCalcResult(ratioResult, 'ratioResult');\r\n};\r\n\r\nconst controlMonthlyRender = function () {\r\n  const computedData = computeMonthlyData(passData('calendarData'));\r\n  renderMonthlyTable(updateMonthlyData(computedData));\r\n};\r\n\r\nconst controlProfitableRender = function () {\r\n  const newProfitable = checkAgainstLeaders(passData('profitable'), [\r\n    passNestedData('tickers', ''),\r\n  ]);\r\n  const tableData = updateProfitableData(newProfitable);\r\n  renderProfitableTable(tableData);\r\n};\r\n\r\nconst controlOverallRender = function () {\r\n  renderStreaks(passData('streaks'));\r\n};\r\n\r\nconst controlPerformanceRender = function (type = 'day') {\r\n  renderPerformanceChart(formatPerformanceData(type));\r\n};\r\n\r\nconst controlWorstBestRender = function () {\r\n  renderWorstBestChart();\r\n};\r\n\r\nconst queryDOM = function () {\r\n  queryCalcEls();\r\n  queryMonthlyEls();\r\n  queryProfitableEls();\r\n  queryOverallEls();\r\n  queryPerformanceEls();\r\n  queryBestWorstEls();\r\n};\r\n\r\n// ZONE - event listeners\r\n\r\nwindow.addEventListener('DOMContentLoaded', e => {\r\n  console.log('DOM app is loaded');\r\n  queryDOM();\r\n  controlMonthlyRender();\r\n  controlProfitableRender();\r\n  controlOverallRender();\r\n  controlPerformanceRender();\r\n  controlWorstBestRender();\r\n  addCalcPositionHandler(controlCalcPosition);\r\n  addCalcRatioHandler(controlCalcRatio);\r\n  addCalcCapitalHandler(controlCalcCapital);\r\n  addPerformanceRenderHandler(controlPerformanceRender);\r\n});\r\n\r\nlet resizeTimer;\r\nwindow.addEventListener('resize', e => {\r\n  clearTimeout(resizeTimer);\r\n  resizeTimer = setTimeout(() => {\r\n    clearPerformanceCanvas();\r\n    clearWorstBestCanvas();\r\n    renderPerformanceChart();\r\n    renderWorstBestChart();\r\n  }, 1000);\r\n});\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}